Index: app/src/main/java/com/example/wellbeingproject/Login.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.wellbeingproject;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\nimport android.widget.Toolbar;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class Login extends AppCompatActivity {\r\n    public static boolean logged_in;\r\n    EditText ETusername, ETpassword;\r\n    Button login;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        logged_in = false;\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.login);\r\n\r\n        //assigning edit text id and button id\r\n        ETusername = findViewById(R.id.username);\r\n        ETpassword = findViewById(R.id.password);\r\n        login = findViewById(R.id.login);\r\n\r\n    }\r\n\r\n    public void OnLogin(View view) {\r\n\r\n        String username = ETusername.getText().toString();\r\n        String password = ETpassword.getText().toString();\r\n        String type = \"login\";\r\n        Databaseworker DBWorker = new Databaseworker(this);\r\n        DBWorker.execute(type, username, password);\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Loggedin();\r\n            }\r\n        },500);\r\n\r\n    }\r\n\r\n    //forward to home page\r\n    public synchronized void Loggedin() {\r\n\r\n        if(logged_in) {\r\n            Intent intent = new Intent(Login.this, MainActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/wellbeingproject/Login.java	(revision 2477fcc86d0a557b07e32e67311aff915faa5f27)
+++ app/src/main/java/com/example/wellbeingproject/Login.java	(date 1618238169951)
@@ -6,8 +6,6 @@
 import android.view.View;
 import android.widget.Button;
 import android.widget.EditText;
-import android.widget.Toast;
-import android.widget.Toolbar;
 
 import androidx.appcompat.app.AppCompatActivity;
 
Index: app/src/main/java/com/example/wellbeingproject/Databaseworker.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.wellbeingproject;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLEncoder;\r\n\r\npublic class Databaseworker extends AsyncTask<String, String, String> {\r\n    Context context;\r\n    AlertDialog alertDialog;\r\n    Databaseworker (Context cntx) {\r\n        context = cntx;\r\n    }\r\n\r\n    @Override\r\n    protected String doInBackground(String... params) {\r\n        //checks first string which is passed when accessing database\r\n        String type = params[0];\r\n        String login_url = \"https://sjogwellbeingapp.com/login.php\";\r\n        //if the param is equal to login it will proceed with login function\r\n        if(type.equals(\"login\")) {\r\n            //establish connection with database\r\n            try {\r\n                String username = params[1];\r\n                String password = params[2];\r\n                URL url = new URL(login_url);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                httpURLConnection.setRequestMethod(\"POST\");\r\n                httpURLConnection.setDoOutput(true);\r\n                httpURLConnection.setDoInput(true);\r\n                //output stream to send to database\r\n                OutputStream outputStream = httpURLConnection.getOutputStream();\r\n                BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, \"UTF-8\"));\r\n                String post_data = URLEncoder.encode(\"username\", \"UTF-8\") +\"=\"+URLEncoder.encode(username, \"UTF-8\")+\"&\"\r\n                        +URLEncoder.encode(\"password\", \"UTF-8\") +\"=\"+URLEncoder.encode(password, \"UTF-8\");\r\n                bufferedWriter.write(post_data);\r\n                bufferedWriter.flush();\r\n                bufferedWriter.close();\r\n                outputStream.close();\r\n                //input stream to recieve from database\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, \"iso-8859-1\"));\r\n                String result=\"\";\r\n                String line=\"\";\r\n                //reads the response from server\r\n                while((line = bufferedReader.readLine())!= null) {\r\n                    result += line;\r\n                }\r\n                bufferedReader.close();\r\n                inputStream.close();\r\n                httpURLConnection.disconnect();\r\n                return result;\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        alertDialog = new AlertDialog.Builder(context).create();\r\n        alertDialog.setTitle(\"Login Status\");\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(String result) {\r\n        if(result.equals(\"loggedin\"))\r\n        {\r\n            Login.logged_in = true;\r\n        }\r\n        alertDialog.setMessage(result);\r\n        alertDialog.show();\r\n        Toast.makeText(context.getApplicationContext(),result, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onProgressUpdate(String... values) {\r\n        super.onProgressUpdate(values);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/wellbeingproject/Databaseworker.java	(revision 2477fcc86d0a557b07e32e67311aff915faa5f27)
+++ app/src/main/java/com/example/wellbeingproject/Databaseworker.java	(date 1618238169955)
@@ -2,7 +2,6 @@
 
 import android.app.AlertDialog;
 import android.content.Context;
-import android.content.Intent;
 import android.os.AsyncTask;
 import android.widget.Toast;
 
